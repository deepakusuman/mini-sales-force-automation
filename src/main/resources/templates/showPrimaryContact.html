<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1" name="viewport"
	content="width=device-width, initial-scale=1">
<title>Sales Force Automation</title>
<link th:href="@{/css/um27xtxn.css}" rel="stylesheet" />
<link
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript">
	function setCId(id) {
		document.getElementById("cId").value = id;
		console.log(id)
	}
</script>
</head>
<body>
	<div class="header">
		<div align="right">
			<a th:href="@{home}"> Home </a>
		</div>
		<header>
			<h1>
				<span class="spanEdge">Sales Force </span> <span class="spantester">
					Automation </span>

			</h1>
		</header>
	</div>
	<h3 align="center">View Primary Contact Details</h3>
	<div align="center">

		<table>
			<tr style="display: none;">
				<td th:text="${primaryContact.cId}"></td>
			</tr>

			<tr>
				<td><label> Title: </label></td>
				<td>:</td>
				<td th:text="${primaryContact.title}"></td>
			</tr>
			<tr>
				<td><label> Name </label></td>
				<td>:</td>
				<td th:text="${primaryContact.name}"></td>
			</tr>
			<tr>
				<td><label> Address : </label></td>
				<td>:</td>
				<td th:text="${primaryContact.address}"></td>
			</tr>
			<tr>
				<td><label> Account : </label></td>
				<td>:</td>
				<td th:text="${primaryContact.account}"></td>
			</tr>

			<tr>
				<td><label> Work Phone : </label></td>
				<td>:</td>
				<td th:text="${primaryContact.workPhone}"></td>
			</tr>
			<tr>
				<td><label> Mobile Phone : </label></td>
				<td>:</td>
				<td th:text="${primaryContact.mobilePhone}"></td>
			</tr>
			<tr>
			<tr>
				<td><label> E-mail : </label></td>
				<td>:</td>
				<td th:text="${primaryContact.email}"></td>
			</tr>

		</table>
	</div>
	<h3 align="center">Associated Contact List</h3>
	<div th:if="${ not#lists.isEmpty(contacts)}">
		<table border="1">
			<tr>
				<th>Title</th>
				<th>Name</th>
				<th>Address</th>
				<th>Account</th>
				<th>Work Phone</th>
				<th>Mobile Phone</th>
				<th>E-mail</th>
				<th></th>
			</tr>
			<tr th:each="contact : ${contacts}">
				<td style="display: none;" th:text="${contact.cId}" id="cId"></td>
				<td th:text="${contact.title}"></td>
				<td th:text="${contact.name}"></td>
				<td th:text="${contact.address}"></td>
				<td th:text="${contact.account}"></td>
				<td th:text="${contact.workPhone}"></td>
				<td th:text="${contact.mobilePhone}"></td>
				<td th:text="${contact.email}"></td>
				<td><input type="radio" th:name="cIdRadio" th:value="${contact.cId}"
					th:attr="onclick=|setCId('${contact.cId}')|"></td>

			</tr>
		</table>
	</div>
	<div th:unless="${ not#lists.isEmpty(contacts)}" align="center">
		<div>No Results Found</div>
	</div>

	<div align="center">

		<form th:action="@{/updatePrimaryContact}" 
			method="post">

			<div th:object="${opportunity}">
				<span th:text="${oId}" th:field="*{oId}"></span>
			</div>

			<div th:object="${contact}">
				<span id="cId" th:field="*{cId}" th:name="cId"></span>
			</div>
			<input type="submit" value="Set As Primary Contact" >

		</form>
	</div>
</body>

</html>